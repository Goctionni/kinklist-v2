(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],d=0,g=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&g.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(g.length)g.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/kinklist-v2/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"1a92":function(t,e,n){"use strict";n("5789")},"315f":function(t,e,n){},"367b":function(t,e,n){},"43b2":function(t,e,n){},"467d":function(t,e,n){"use strict";n("5acd")},"4edf":function(t,e,n){"use strict";n("66bd")},"522c":function(t,e,n){"use strict";n("315f")},"56f9":function(t,e,n){"use strict";n("7ad3")},5789:function(t,e,n){},"5acd":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},"64e5":function(t,e,n){"use strict";n("43b2")},"66bd":function(t,e,n){},"7a88":function(t,e,n){"use strict";n("e8dd")},"7ad3":function(t,e,n){},"7f34":function(t,e,n){},"804e":function(t,e,n){"use strict";n("367b")},"9c0c":function(t,e,n){},a287:function(t,e,n){"use strict";n("7f34")},a70a:function(t,e,n){"use strict";n("afc9")},accc:function(t,e,n){"use strict";n("daad")},afc9:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.importing?n("Importing"):n("div",{staticClass:"app"},[n("header",[n("h1",[t._v("Kinklist")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"Enter username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),n("div",{staticClass:"spacer"}),n("Legend",{attrs:{ratings:t.ratings},on:{updateRatings:function(e){return t.updateRatings(e)}}}),n("ExportButton",{attrs:{loading:t.uploading},on:{click:function(e){return t.exportImage()}}}),n("div",{staticClass:"dropdown-container"},[n("button",{staticClass:"dropdown-toggle hide-text",on:{click:function(e){return t.toggleOptions(!0)}}},[t._v("Options")]),n("transition",{attrs:{name:"fade"}},[t.showOptions?n("div",{staticClass:"options-dropdown"},[n("div",{staticClass:"backdrop",on:{click:function(e){return t.toggleOptions(!1)}}}),n("div",{staticClass:"options-dropdown-content"},[n("div",{staticClass:"option checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.encodeData,expression:"encodeData"}],attrs:{type:"checkbox",id:"encodeData"},domProps:{checked:Array.isArray(t.encodeData)?t._i(t.encodeData,null)>-1:t.encodeData},on:{change:function(e){var n=t.encodeData,a=e.target,o=!!a.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);a.checked?r<0&&(t.encodeData=n.concat([i])):r>-1&&(t.encodeData=n.slice(0,r).concat(n.slice(r+1)))}else t.encodeData=o}}}),n("label",{attrs:{for:"encodeData"}},[t._v("Encode data")])]),n("button",{staticClass:"about-btn",on:{click:function(e){return t.showAbout()}}},[t._v("About")])])]):t._e()])],1)],1),n("main",{staticClass:"body"},t._l(t.columns,(function(e,a){return n("div",{key:"col-"+a,staticClass:"column"},t._l(e,(function(e){return n("Category",{key:e.name,attrs:{category:e,ratings:t.ratings},on:{removeCategory:function(n){return t.removeCategory(e)},addKink:function(n){return t.addKink(e)},removeKink:function(n){return t.removeKink(e,n)}}})})),1)})),0),n("button",{staticClass:"icon-button add-category-btn add-icon",on:{click:function(e){return t.addCategory()}}},[n("span",{staticClass:"sr-only tooltip tooltip-left"},[t._v("Add category")])])])],1)},i=[],r=n("ade3"),c=n("5530"),s=n("1da1"),u=n("b85c"),l=n("d4ec"),d=n("bee2"),g=n("262e"),p=n("2caf"),m=(n("96cf"),n("0481"),n("4069"),n("d81d"),n("d3b7"),n("b0c0"),n("4de4"),n("ac1f"),n("466d"),n("9ab4")),f=n("1b40"),b=(n("a15b"),n("cb29"),n("25f0"),n("aff5"),n("a9e3"),function(){return new Array(5).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36)})).join("-")}),v=function(){return[{name:"Not Entered",color:"#FFF"},{name:"Favorite",color:"#6DB5FE"},{name:"Like",color:"#23FD22"},{name:"Okay",color:"#FDFD6B"},{name:"Maybe",color:"#DB6C00"},{name:"No",color:"#920000"}]},h=function(t,e,n,a){return{id:b(),name:t,subcategories:e,kinks:n.map((function(t){return{id:b(),name:t,ratings:e.reduce((function(t,e){return Object(c["a"])(Object(c["a"])({},t),{},Object(r["a"])({},e,a))}),{})}}))}},y=function(t){return[h("Bodies",["Self","Partner"],["Skinny","Chubby","Small breasts","Large breasts","Small cocks","Large cocks"],t),h("Clothing",["Self","Partner"],["Clothed sex","Lingerie","Stockings","Heels","Leather","Latex","Uniform / costume","Cross-dressing"],t),h("Groupings",["General"],["You and 1 male","You and 1 female","You and trans female","You and trans male","You and 1 male, 1 female","You and 2 males","You and 2 females","Orgy"],t),h("General",["Giving","Receiving"],["Romance / Affection","Handjob / fingering","Blowjob","Deep throat","Swallowing","Facials","Cunnilingus","Face-sitting","Edging","Teasing","JOI, SI"],t),h("Ass play",["Giving","Receiving"],["Anal toys","Anal sex, pegging","Rimming","Double penetration","Anal fisting"],t),h("Restrictive",["Self","Partner"],["Gag","Collar","Leash","Chastity","Bondage (Light)","Bondage (Heavy)","Encasement"],t),h("Toys",["Self","Partner"],["Dildos","Plugs","Vibrators","Sounding"],t),h("Domination",["Dominant","Submissive"],["Dominant / Submissive","Domestic servitude","Slavery","Pet play","DD/lg, MD/lb","Discipline","Begging","Forced orgasm","Orgasm control","Orgasm denial","Power exchange"],t),h("No consent",["Aggressor","Target"],["Non-con / rape","Blackmail / coercion","Kidnapping","Drugs","Alcohol","Sleep play"],t),h("Taboo",["General"],["Incest","Age gap","Raceplay","Bestiality","Necrophilia","Cheating","Exhibitionism","Voyeurism"],t),h("Surrealism",["Self","Partner"],["Futanari","Furry","Vore","Transformation","Tentacles","Monster or Alien"],t),h("Fluids",["General"],["Blood","Watersports","Scat","Lactation","Diapers","Cum play"],t),h("Degradation",["Giving","Receiving"],["Glory hole","Name calling","Humiliation"],t),h("Touch & Stimulation",["Actor","Subject"],["Cock/Pussy worship","Ass worship","Foot play","Tickling","Sensation play","Electro stimulation"],t),h("Misc. Fetish",["Giving","Receiving"],["Fisting","Gangbang","Breath play","Impregnation","Pregnancy","Feminization","Cuckold / Cuckquean"],t),h("Pain",["Giving","Receiving"],["Light pain","Heavy pain","Nipple clamps","Clothes pins","Caning","Flogging","Beating","Spanking","Cock/Pussy slapping","Cock/Pussy torture","Hot Wax","Scratching","Biting","Cutting"],t)]},k=n("2909"),O=(n("fb6a"),n("7db0"),n("e9c4"),n("99af"),"2.0"),j={numCols:6,categoryWidth:250,titleWithoutSubcategoryHeight:35,titleWithSubcategoryHeight:50,categoryRowHeight:25,offsetTop:50,offsetLeft:10,offsetRight:10,offsetBottom:10,legendItemWidth:120,legendOffset:15},C=function(t){return t.map((function(t){return{name:t.name,subcategories:t.subcategories.slice(),kinks:t.kinks.map((function(t){return{name:t.name,ratings:Object(c["a"])({},t.ratings),comment:t.comment}}))}}))},x=function(t,e,n,a){var o=C(t),i=I(n,o,e),r=D(o),c=r.columns,s=r.tallestColumnHeight,u=w(s,i.length),l=u.canvasWidth,d=u.canvasHeight,g=S(l,d),p=g.canvas,m=g.context;return R(m,n),E(m,e,l),_(m,c,e,a),a&&P(m,l,d,i),p},w=function(t,e){var n=j.offsetLeft+j.numCols*j.categoryWidth+j.offsetRight,a=j.offsetTop+t+j.offsetBottom+Math.ceil(e/n);return{canvasWidth:n,canvasHeight:a}},_=function(t,e,n,a){for(var o=0;o<e.length;o++){var i,r=e[o],c=j.offsetLeft+j.categoryWidth*o,s=j.offsetTop,l=Object(u["a"])(r);try{for(l.s();!(i=l.n()).done;){var d=i.value,g=$(d);T(t,c,s,d,n,a),s+=g}}catch(p){l.e(p)}finally{l.f()}}},S=function(t,e){var n=document.createElement("canvas");n.width=t,n.height=e,n.style.width="".concat(t,"px"),n.style.height="".concat(e,"px");var a=n.getContext("2d");return a.fillStyle="#FFFFFF",a.fillRect(0,0,n.width,n.height),{context:a,canvas:n}},R=function(t,e){t.font="bold 24px Arial",t.fillStyle="#000000",t.fillText("Kinklist (v".concat(O,")")+e,5,25)},D=function(t){var e,n=t.reduce((function(t,e){return t+$(e)}),0),a=new Array(j.numCols).fill([]).map((function(){return[]})),o=0,i=0,r=0,c=Object(u["a"])(t);try{for(c.s();!(e=c.n()).done;){var s=e.value,l=$(s);i+l/2>n/j.numCols&&o+1<j.numCols&&(o++,i=0),i+=l,a[o].push(s),r=Math.max(r,i)}}catch(d){c.e(d)}finally{c.f()}return{columns:a,tallestColumnHeight:r}},$=function(t){var e=t.subcategories.length>1?j.titleWithSubcategoryHeight:j.titleWithoutSubcategoryHeight;return e+t.kinks.length*j.categoryRowHeight},T=function(t,e,n,a,o,i){t.fillStyle="#000000",t.font="bold 18px Arial",t.fillText(a.name,e,n+5);var r=a.subcategories.length>1;r&&(t.font="italic 12px Arial",t.fillText(a.subcategories.join(", "),e,n+20));for(var c=function(c){var s=a.kinks[c],u=n+(r?j.titleWithSubcategoryHeight:j.titleWithoutSubcategoryHeight)+c*j.categoryRowHeight;t.fillStyle="#000000",t.font="12px Arial",t.fillText(s.name,e+5+20*a.subcategories.length,u-6);for(var l=function(n){var i=a.subcategories[n],r=o.find((function(t){return t.name===s.ratings[i]})),c=e+10+20*n,l=u-10;t.beginPath(),t.arc(c,l,8,0,2*Math.PI,!1),t.fillStyle=r.color,t.fill(),t.strokeStyle="rgba(0, 0, 0, .5)",t.lineWidth=1,t.stroke()},d=0;d<a.subcategories.length;d++)l(d);if(i&&s.comment){var g=t.measureText(s.name).width,p=e+20+20*a.subcategories.length+g;t.beginPath(),t.ellipse(p,u-10,6,5,0,.4*Math.PI,.1*Math.PI,!1),t.lineTo(p,u-2),t.lineTo(p,u-5),t.fillStyle="#FFF",t.fill(),t.strokeStyle="rgba(0, 0, 0, .5)",t.lineWidth=1,t.stroke(),t.beginPath(),t.moveTo(p-3,u-11.5),t.lineTo(p+1,u-11.5),t.moveTo(p-3,u-8.5),t.lineTo(p+3,u-8.5),t.fillStyle="#FFF",t.fill(),t.strokeStyle="rgba(0, 0, 0, .5)",t.lineWidth=1,t.stroke()}},s=0;s<a.kinks.length;s++)c(s)},E=function(t,e,n){t.font="bold 13px Arial",t.fillStyle="#000000";var a,o=n-j.legendOffset-j.legendItemWidth*e.length,i=Object(u["a"])(e);try{for(i.s();!(a=i.n()).done;){var r=a.value;t.beginPath(),t.arc(o,17,8,0,2*Math.PI,!1),t.fillStyle=r.color,t.fill(),t.strokeStyle="rgba(0, 0, 0, 0.5)",t.lineWidth=1,t.stroke(),t.fillStyle="#000000",t.fillText(r.name,o+15,22),o+=j.legendItemWidth}}catch(c){i.e(c)}finally{i.f()}},I=function(t,e,n){var a=JSON.stringify({username:t,categories:e,ratings:n}),o=Object(k["a"])(a).map((function(t){return t.charCodeAt(0)})),i=o.map((function(t){return{r:254-(7&t),g:254-((56&t)>>3),b:254-((192&t)>>6)}}));return i},P=function(t,e,n,a){var o,i=0,r=n-1,c=Object(u["a"])(a);try{for(c.s();!(o=c.n()).done;){var s=o.value;t.beginPath(),t.fillStyle="rgb(".concat(s.r,", ").concat(s.g,", ").concat(s.b,")"),t.fillRect(i,r,1,1),t.fill(),i++,i>=e&&(i=0,r--)}}catch(l){c.e(l)}finally{c.f()}},N=(n("1276"),"9db53e5936cd02f"),A=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("image",e.toDataURL().split(",")[1]),n.append("type","base64"),t.next=5,fetch("https://api.imgur.com/3/image",{method:"POST",headers:{Authorization:"Client-ID "+N},body:n});case 5:return a=t.sent,t.next=8,a.json();case 8:if(o=t.sent,a.ok){t.next=14;break}if(!o.data.error){t.next=12;break}throw o.data.error;case 12:throw console.error({response:a,json:o}),new Error("Imgur response: Not OK");case 14:return t.abrupt("return",o.data.id);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=(n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a,o,i,r,s,u,l,d,g,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://i.imgur.com/".concat(e,".png"));case 2:return n=t.sent,t.next=5,n.blob();case 5:return a=t.sent,t.next=8,U(a);case 8:return o=t.sent,i=K(o),r=i.canvas,s=i.context,u=L(r,s),l=JSON.parse(u),d=l.categories,g=l.ratings,p=l.username,m=d.map((function(t){var e=Object(c["a"])(Object(c["a"])({},t),{},{id:b(),kinks:t.kinks.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{id:b()})}))});return e})),t.abrupt("return",{username:p,ratings:g,categories:m});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),U=function(t){return new Promise((function(e,n){var a=URL.createObjectURL(t),o=new Image;o.onerror=function(){return n()},o.onload=function(){URL.revokeObjectURL(a),e(o)},o.src=a}))},K=function(t){var e=document.createElement("canvas");e.width=t.naturalWidth,e.height=t.naturalHeight;var n=e.getContext("2d");return n.drawImage(t,0,0,t.naturalWidth,e.height),{canvas:e,context:n}},L=function(t,e){for(var n="",a=t.height-1;a>=0;a--)for(var o=0;o<t.width;o++){var i=e.getImageData(o,a,1,1).data;if(255===i[0]&&255===i[1]&&255===i[2])return n;var r=254-i[0],c=254-i[1],s=254-i[2],u=r+(c<<3)+(s<<6),l=String.fromCharCode(u);n+=l}return""},M=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var a=document.createElement("div");document.body.appendChild(a);var o=new e({propsData:n}).$mount(a);o.$on("close",(function(e){var n;o.$destroy(),null===(n=o.$el.parentElement)||void 0===n||n.removeChild(o.$el),t(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"kink-category"},[n("header",[n("h2",[t._v(t._s(t.category.name))]),n("button",{staticClass:"add-icon add-kink icon-button",on:{click:function(e){return t.addKink()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Add Kink")])]),n("button",{staticClass:"edit-icon edit-category icon-button",on:{click:function(e){return t.editCategory()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Edit category")])]),n("button",{staticClass:"remove-icon remove-category icon-button",on:{click:function(e){return t.removeCategory()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Remove category")])])]),n("div",{staticClass:"category-kinks"},t._l(t.category.kinks,(function(e){return n("Kink",{key:t.category.id+"-"+e.id,staticClass:"kink-item",attrs:{kink:e,category:t.category,ratings:t.ratings},on:{remove:function(n){return t.removeKink(e)}}})})),1)])},B=[],W=(n("c740"),n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:"Comment for "+t.category.name+": "+t.kink.name},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"comment-dialog-content"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.kink.comment,expression:"kink.comment"}],ref:"textarea",domProps:{value:t.kink.comment},on:{input:function(e){e.target.composing||t.$set(t.kink,"comment",e.target.value)}}})])])}),H=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialog-container"},[t.hasBackdrop?n("div",{staticClass:"dialog-backdrop"}):t._e(),n("div",{staticClass:"dialog"},[n("div",{staticClass:"dialog-title"},[n("h2",[t._v(t._s(t.titleText))]),t.closeable?n("button",{staticClass:"dialog-close hide-text",on:{click:function(e){return t.$emit("close")}}},[t._v("Close dialog")]):t._e()]),n("div",{staticClass:"dialog-body"},[t._t("default")],2),t.buttons?n("div",{staticClass:"dialog-footer"},t._l(t.dialogButtons,(function(e){return n("button",{key:e.text,class:e.class,on:{click:function(n){t.$emit(e.text.toLowerCase())}}},[t._v(" "+t._s(e.text)+" ")])})),0):t._e()])])},q=[],J=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"dialogButtons",get:function(){return this.buttons?this.buttons.map((function(t){return"!"===t[0]?{text:t.slice(1),class:"dialog-button dialog-button--primary"}:{text:t,class:"dialog-button"}})):[]}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])({default:!0})],J.prototype,"hasBackdrop",void 0),Object(m["a"])([Object(f["c"])({default:!0})],J.prototype,"closeable",void 0),Object(m["a"])([Object(f["c"])({required:!0})],J.prototype,"titleText",void 0),Object(m["a"])([Object(f["c"])({required:!1})],J.prototype,"buttons",void 0),J=Object(m["a"])([f["a"]],J);var z=J,V=z,X=(n("a70a"),n("2877")),Z=Object(X["a"])(V,Y,q,!1,null,"398f0f40",null),Q=Z.exports,tt=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"close",value:function(){}},{key:"mounted",value:function(){var t;null===(t=this.$refs.textarea)||void 0===t||t.focus()}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],tt.prototype,"category",void 0),Object(m["a"])([Object(f["c"])()],tt.prototype,"kink",void 0),Object(m["a"])([Object(f["b"])()],tt.prototype,"close",null),tt=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],tt);var et=tt,nt=et,at=(n("7a88"),Object(X["a"])(nt,W,H,!1,null,"1a00fb46",null)),ot=at.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:t.title},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"edit-category-dialog-content"},[n("div",{staticClass:"edit-category-body"},[n("div",{staticClass:"category-name"},[n("label",{attrs:{for:"NameInput"}},[t._v("Category name:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryName,expression:"categoryName"}],ref:"input",attrs:{id:"NameInput",type:"text"},domProps:{value:t.categoryName},on:{input:function(e){e.target.composing||(t.categoryName=e.target.value)}}})]),n("div",{staticClass:"subcategories-head"},[n("label",[t._v("Subcategories")]),n("button",{staticClass:"add-subcategory icon-button add-icon",on:{click:function(e){return t.addSubcategory()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Add subcategory")])])]),n("ul",{staticClass:"subcategories"},t._l(t.subcategories,(function(e,a){return n("li",{key:"sucategory-"+a,staticClass:"subcategory"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.subcategories[a],expression:"subcategories[i]"}],domProps:{value:t.subcategories[a]},on:{input:function(e){e.target.composing||t.$set(t.subcategories,a,e.target.value)}}}),n("button",{staticClass:"remove-subcategory icon-button remove-icon",on:{click:function(e){return t.removeSubcategory(a)}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Remove subcategory")])])])})),0)]),n("div",{staticClass:"actions"},[n("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),n("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},rt=[],ct=(n("a434"),function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.categoryName="",t.subcategories=["General"],t}return Object(d["a"])(n,[{key:"title",get:function(){return this.category?"Edit category":"New category"}},{key:"updateModel",value:function(){this.category?(this.categoryName=this.category.name,this.subcategories=this.category.subcategories.slice()):(this.categoryName="",this.subcategories=["General"])}},{key:"addSubcategory",value:function(){this.subcategories.push("")}},{key:"removeSubcategory",value:function(t){this.subcategories.splice(t,1)}},{key:"close",value:function(){this.$emit("close",!1)}},{key:"ok",value:function(){this.$emit("close",{name:this.categoryName,subcategories:this.subcategories})}},{key:"mounted",value:function(){var t;null===(t=this.$refs.input)||void 0===t||t.focus()}}]),n}(f["d"]));Object(m["a"])([Object(f["c"])()],ct.prototype,"category",void 0),Object(m["a"])([Object(f["e"])("category",{immediate:!0})],ct.prototype,"updateModel",null),ct=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],ct);var st=ct,ut=st,lt=(n("522c"),Object(X["a"])(ut,it,rt,!1,null,"e00eb0b4",null)),dt=lt.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"kink-item"},[n("header",{staticClass:"kink-head"},[n("h3",[t._v(t._s(t.kink.name))])]),n("div",{staticClass:"kink-ratings"},t._l(t.category.subcategories,(function(e){return n("div",{key:e,staticClass:"kink-rating"},[t.category.subcategories.length>1?n("div",{staticClass:"subcategory-text"},[t._v(t._s(e))]):t._e(),n("div",{staticClass:"rating-wrapper"},t._l(t.ratings,(function(a){return n("div",{key:"kink:"+t.kink.name+"-sub:"+e+"-"+a.name,staticClass:"radio-container",style:{"--color":a.color}},[n("label",{class:{active:t.kink.ratings[e]===a.name}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.kink.ratings[e],expression:"kink.ratings[subcategory]"}],attrs:{name:t.category.name+"-kink:"+t.kink.name+"-sub:"+e,type:"radio"},domProps:{value:a.name,checked:t._q(t.kink.ratings[e],a.name)},on:{change:function(n){return t.$set(t.kink.ratings,e,a.name)}}})])])})),0)])})),0),n("div",{staticClass:"kink-actions"},[n("button",{staticClass:"icon-button edit-icon",on:{click:function(e){return t.edit()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Edit Kink")]),n("span",{staticClass:"icon-edit"})]),n("button",{staticClass:"icon-button remove-icon",on:{click:function(e){return t.remove()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Remove Kink")]),n("span",{staticClass:"icon-remove"})])]),n("div",{staticClass:"comment-action"},[n("button",{staticClass:"icon-button",on:{click:function(e){return t.addComment()}}},[n("span",{staticClass:"sr-only tooltip"},[t.kink.comment?[t._v("View/Edit/Remove Comment")]:[t._v("Add Comment")]],2),n("span",{class:{"icon-comment":!0,"has-comment":t.kink.comment}},[n("span")])])])])},pt=[],mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:t.title},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"prompt-dialog-content"},[n("div",{staticClass:"prompt-body"},[n("label",{attrs:{for:"PromptInput"}},[t._v(t._s(t.inputLabel))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],ref:"input",attrs:{id:"PromptInput",type:"text"},domProps:{value:t.model},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ok()},input:function(e){e.target.composing||(t.model=e.target.value)}}})]),n("div",{staticClass:"actions"},[n("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),n("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},ft=[],bt=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.model="",t}return Object(d["a"])(n,[{key:"updateModel",value:function(){this.model=this.value}},{key:"close",value:function(){this.$emit("close",!1)}},{key:"ok",value:function(){this.$emit("close",this.model)}},{key:"mounted",value:function(){var t;null===(t=this.$refs.input)||void 0===t||t.focus()}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],bt.prototype,"title",void 0),Object(m["a"])([Object(f["c"])()],bt.prototype,"inputLabel",void 0),Object(m["a"])([Object(f["c"])()],bt.prototype,"value",void 0),Object(m["a"])([Object(f["e"])("value",{immediate:!0})],bt.prototype,"updateModel",null),bt=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],bt);var vt=bt,ht=vt,yt=(n("accc"),Object(X["a"])(ht,mt,ft,!1,null,"06cc1c80",null)),kt=yt.exports,Ot=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"edit",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(kt,{title:"Edit kink",inputLabel:"Kink name:",value:this.kink.name});case 2:e=t.sent,!1!==e&&(e?this.kink.name=e:this.remove());case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"remove",value:function(){this.$emit("remove")}},{key:"addComment",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(ot,{category:this.category,kink:this.kink});case 2:null!==(e=this.kink.comment)&&void 0!==e&&e.trim()||this.removeComment();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeComment",value:function(){this.$set(this.kink,"comment",void 0)}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],Ot.prototype,"kink",void 0),Object(m["a"])([Object(f["c"])()],Ot.prototype,"category",void 0),Object(m["a"])([Object(f["c"])()],Ot.prototype,"ratings",void 0),Ot=Object(m["a"])([f["a"]],Ot);var jt=Ot,Ct=jt,xt=(n("56f9"),Object(X["a"])(Ct,gt,pt,!1,null,"7b6b77da",null)),wt=xt.exports,_t=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.subcategories=[],t}return Object(d["a"])(n,[{key:"updateSubcategoriesModel",value:function(){this.subcategories=Object(k["a"])(this.category.subcategories)}},{key:"editCategory",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(dt,{category:this.category});case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:this.category.name=e.name,this.category.subcategories=e.subcategories,this.category.kinks=this.category.kinks.map((function(t){return Object(c["a"])(Object(c["a"])({},t),{},{ratings:e.subcategories.reduce((function(e,a){return Object(c["a"])(Object(c["a"])({},e),{},Object(r["a"])({},a,t.ratings[a]||n.ratings[0].name))}),{})})}));case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeCategory",value:function(){this.$emit("removeCategory")}},{key:"subcategoryUpdated",value:function(t){var e=this;if(t.length===this.category.subcategories.length){var n=t.findIndex((function(t,n){return e.category.subcategories[n]!==t}));this.$emit("renameSubcategory",{oldName:this.category.subcategories[n],newName:t[n]})}}},{key:"addSubcategory",value:function(){this.$emit("addSubcategory")}},{key:"removeSubcategory",value:function(t){this.$emit("removeSubcategory",t)}},{key:"addKink",value:function(){this.$emit("addKink")}},{key:"removeKink",value:function(t){this.$emit("removeKink",t)}},{key:"addComment",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(ot,{category:this.category,kink:e});case 2:null!==(n=e.comment)&&void 0!==n&&n.trim()||this.removeComment(e);case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"removeComment",value:function(t){this.$set(t,"comment",void 0)}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],_t.prototype,"category",void 0),Object(m["a"])([Object(f["c"])()],_t.prototype,"ratings",void 0),Object(m["a"])([Object(f["e"])("category.subcategories",{deep:!0,immediate:!0})],_t.prototype,"updateSubcategoriesModel",null),Object(m["a"])([Object(f["e"])("subcategories",{deep:!0})],_t.prototype,"subcategoryUpdated",null),_t=Object(m["a"])([Object(f["a"])({components:{Kink:wt}})],_t);var St=_t,Rt=St,Dt=(n("a287"),Object(X["a"])(Rt,G,B,!1,null,"2566a740",null)),$t=Dt.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:"Kinklist created"},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"upload-dialog-content"},[n("h3",[t._v("Imgur link")]),n("div",{staticClass:"row"},[n("input",{ref:"imgurUrlRef",attrs:{readonly:""},domProps:{value:t.uploadUrl}}),n("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("imgurUrlRef",t.uploadUrl)}}},[t._v("Copy to clipboard")]),n("a",{staticClass:"hide-text",attrs:{href:t.uploadUrl,target:"_blank"}},[t._v("Goto Imgur")])]),n("h3",[t._v("Kinklist link")]),n("div",{staticClass:"row"},[n("input",{ref:"viewUrlRef",attrs:{readonly:""},domProps:{value:t.viewUrl}}),n("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("viewUrlRef",t.viewUrl)}}},[t._v("Copy to clipboard")])]),t.hasEncodedData?[n("h3",[t._v("BBCode")]),n("div",{staticClass:"row"},[n("textarea",{ref:"bbcodeRef",attrs:{readonly:""},domProps:{textContent:t._s(t.bbcode)}}),n("button",{staticClass:"clipboard hide-text",attrs:{title:"Copy to clipboard"},on:{click:function(e){return t.copyUploadUrlToClipboard("bbcodeRef",t.bbcode)}}},[t._v("Copy to clipboard")])])]:t._e()],2),n("transition",{attrs:{name:"slide"}},[t.toast?n("div",{staticClass:"toast"},[t._v(t._s(t.toast))]):t._e()])],1)},Et=[],It=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.toast="",t.toastTimeout=0,t}return Object(d["a"])(n,[{key:"uploadUrl",get:function(){return this.uploadId?"https://i.imgur.com/".concat(this.uploadId,".png"):""}},{key:"viewUrl",get:function(){return this.uploadId?"".concat(location.protocol,"//").concat(location.host).concat(location.pathname,"#").concat(this.uploadId):""}},{key:"bbcode",get:function(){return"[Kinklist](".concat(this.uploadUrl,") (To view included notes: [Kinklist Details](").concat(this.viewUrl,"))")}},{key:"copyUploadUrlToClipboard",value:function(t,e){var n,a,o,i=this;null===(n=this.$refs)||void 0===n||null===(a=n[t])||void 0===a||a.select(),null!==(o=navigator)&&void 0!==o&&o.clipboard?navigator.clipboard.writeText(e):document.execCommand("copy"),this.toast="URL copied to clipboard",clearTimeout(this.toastTimeout),this.toastTimeout=setTimeout((function(){i.toast=""}),500)}},{key:"close",value:function(){}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],It.prototype,"uploadId",void 0),Object(m["a"])([Object(f["c"])()],It.prototype,"hasEncodedData",void 0),Object(m["a"])([Object(f["b"])()],It.prototype,"close",null),It=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],It);var Pt=It,Nt=Pt,At=(n("1a92"),Object(X["a"])(Nt,Tt,Et,!1,null,"5cdc07cb",null)),Ft=At.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:"Error"},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"error-dialog-content"},[t._v(" "+t._s(t.message)+" ")])])},Kt=[],Lt=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"close",value:function(){}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],Lt.prototype,"message",void 0),Object(m["a"])([Object(f["b"])()],Lt.prototype,"close",null),Lt=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],Lt);var Mt=Lt,Gt=Mt,Bt=(n("804e"),Object(X["a"])(Gt,Ut,Kt,!1,null,"7541c70d",null)),Wt=Bt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:"About"},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"about-dialog-content"},[n("p",[t._v(" Kinklist was created by Goctionni to help people easily and quickly communicate their preferences. It is open source under the MIT license. You are thus free modify source code in any way you wish. Credit is appreciated but not required. ")]),n("p",[t._v(" If you have questions about kinklist, or suggestions, you can leave me a message on Reddit (/u/Goctionni) or an issue on Github. I always enjoy hearing of people using things I made, so if you're using Kinklist for your community- hearing about that is also just lovely. ")]),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/Goctionni/kinklist-v2",target:"_blank"}},[t._v("Github")])]),n("li",[n("a",{attrs:{href:"https://www.reddit.com/user/Goctionni/",target:"_blank"}},[t._v("reddit.com/u/Goctionni")])]),n("li",[t._v("Discord: Goctionni#9137")])])])])},Yt=[],qt=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"close",value:function(){}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],qt.prototype,"message",void 0),Object(m["a"])([Object(f["b"])()],qt.prototype,"close",null),qt=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],qt);var Jt=qt,zt=Jt,Vt=(n("467d"),Object(X["a"])(zt,Ht,Yt,!1,null,"53268a70",null)),Xt=Vt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{on:{click:function(e){return t.emitClick()}}},[n("transition",{attrs:{name:"slide"}},[n("span",{key:"btn-text-"+t.loading,staticClass:"btn-text"},[t._v(t._s(t.loading?"Uploading":"Export"))])]),t.loading?n("svg",{attrs:{viewBox:"0 0 150 37"}},[n("rect",{attrs:{rx:"2"}})]):t._e()],1)},Qt=[],te=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"emitClick",value:function(){this.loading||this.$emit("click")}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],te.prototype,"loading",void 0),te=Object(m["a"])([f["a"]],te);var ee=te,ne=ee,ae=(n("db88"),Object(X["a"])(ne,Zt,Qt,!1,null,"6d7d4f79",null)),oe=ae.exports,ie=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},re=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("p",[t._v("Importing data from Imgur")]),n("span",{staticClass:"loading-indicator"})])}],ce=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return n}(f["d"]);ce=Object(m["a"])([f["a"]],ce);var se=ce,ue=se,le=(n("ce1b"),Object(X["a"])(ue,ie,re,!1,null,"c3dda818",null)),de=le.exports,ge=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"legend"},[n("button",{staticClass:"icon-button edit-icon edit-legend",on:{click:function(e){return t.editRatings()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Edit ratings")])]),n("dl",t._l(t.ratings,(function(e,a){return n("div",{key:"rating-"+a,staticClass:"rating",style:{"--color":e.color}},[t._m(0,!0),n("dd",[t._v(t._s(e.name))])])})),0)])},pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",[n("span",{staticClass:"color"})])}],me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Dialog",{attrs:{titleText:"Edit ratings"},on:{close:function(e){return t.close()}}},[n("div",{staticClass:"ratings-dialog-content"},[n("p",[n("strong",[t._v("Warning:")]),t._v(" Though you can edit the ratings and colors for kinklist, the current selection of colors was made to be distinguishable by people with colorblindness. Changing the used colors is therefor discouraged. ")]),n("div",{staticClass:"ratings-head"},[n("h3",[t._v("Ratings")]),n("button",{staticClass:"icon-button add-icon",on:{click:function(e){return t.add()}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Add rating")])])]),n("ul",{staticClass:"ratings"},t._l(t.model,(function(e,a){return n("li",{key:"rating-"+a,staticClass:"rating"},[n("label",[t._v(" Name "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model[a].name,expression:"model[i].name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.model[a].name},on:{input:function(e){e.target.composing||t.$set(t.model[a],"name",e.target.value)}}})]),n("label",[t._v(" Color "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model[a].color,expression:"model[i].color"}],attrs:{type:"text",placeholder:"Color"},domProps:{value:t.model[a].color},on:{input:function(e){e.target.composing||t.$set(t.model[a],"color",e.target.value)}}})]),n("button",{staticClass:"icon-button remove-icon remove-rating",on:{click:function(e){return t.remove(a)}}},[n("span",{staticClass:"sr-only tooltip"},[t._v("Remove rating")])])])})),0),n("div",{staticClass:"actions"},[n("button",{staticClass:"dialog-action",on:{click:function(e){return t.close()}}},[t._v("Cancel")]),n("button",{staticClass:"dialog-action action-primary",on:{click:function(e){return t.ok()}}},[t._v("Ok")])])])])},fe=[],be=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.model=[],t}return Object(d["a"])(n,[{key:"updateModel",value:function(){this.model=this.ratings.map((function(t){return Object(c["a"])({},t)}))}},{key:"remove",value:function(t){this.model.splice(t,1)}},{key:"add",value:function(){this.model.push({name:"",color:"#000"})}},{key:"close",value:function(){this.$emit("close",!1)}},{key:"ok",value:function(){this.$emit("close",this.model.map((function(t){return Object(c["a"])({},t)})).filter((function(t){return t})))}}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],be.prototype,"ratings",void 0),Object(m["a"])([Object(f["e"])("value",{immediate:!0})],be.prototype,"updateModel",null),be=Object(m["a"])([Object(f["a"])({components:{Dialog:Q}})],be);var ve=be,he=ve,ye=(n("d8fc"),Object(X["a"])(he,me,fe,!1,null,"246deac4",null)),ke=ye.exports,Oe=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),e.apply(this,arguments)}return Object(d["a"])(n,[{key:"editRatings",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(ke,{ratings:this.ratings});case 2:e=t.sent,e&&this.$emit("updateRatings",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),n}(f["d"]);Object(m["a"])([Object(f["c"])()],Oe.prototype,"ratings",void 0),Oe=Object(m["a"])([f["a"]],Oe);var je=Oe,Ce=je,xe=(n("64e5"),Object(X["a"])(Ce,ge,pe,!1,null,"7deff634",null)),we=xe.exports,_e=function(t){Object(g["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.ratings=[],t.categories=[],t.username="",t.uploadId="",t.uploading=!1,t.importing=!1,t.showOptions=!1,t.encodeData=!0,t.numColumns=4,t}return Object(d["a"])(n,[{key:"uploadUrl",get:function(){return this.uploadId?"https://i.imgur.com/".concat(this.uploadId,".png"):""}},{key:"columns",get:function(){var t=[],e=108,n=27,a=this.categories.length*e+this.categories.map((function(t){return t.kinks})).flat().length*n,o=a/this.numColumns,i=0,r=[];t.push(r);var c,s=Object(u["a"])(this.categories);try{for(s.s();!(c=s.n()).done;){var l=c.value,d=e+l.kinks.length*n;i+d/2>o&&(r=[],t.push(r),i=0),r.push(l),i+=d}}catch(g){s.e(g)}finally{s.f()}return t}},{key:"created",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.tryLoadImgurData();case 2:if(t.sent){t.next=4;break}this.loadDefaults();case 4:this.updateNumColumns(),window.addEventListener("resize",(function(){e.updateNumColumns()}));case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateNumColumns",value:function(){var t=Math.min(window.innerWidth,1740);this.numColumns=Math.max(1,Math.floor(t/400))}},{key:"exportImage",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.uploading=!0,e=x(this.categories,this.ratings,this.username,this.encodeData),t.next=5,A(e);case 5:n=t.sent,a=this.categories.some((function(t){return t.kinks.some((function(t){return t.comment}))})),M(Ft,{uploadId:n,hasEncodedData:this.encodeData&&a}),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](0),M(Wt,{message:"Something went wrong uploading the image"}),console.error("Something went wrong uploading kinklist"),console.error(t.t0);case 15:this.uploading=!1;case 16:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"showAbout",value:function(){this.toggleOptions(!1),M(Xt,{})}},{key:"addCategory",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(dt,{});case 2:if(e=t.sent,e){t.next=5;break}return t.abrupt("return");case 5:this.categories.push({id:b(),name:e.name,subcategories:e.subcategories,kinks:[{id:b(),name:"Example kink",ratings:{General:this.ratings[0].name}}]});case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeCategory",value:function(t){this.categories=this.categories.filter((function(e){return e!=t}))}},{key:"addKink",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,M(kt,{title:"Add kink",inputLabel:"Kink name:",value:""});case 2:n=t.sent,n&&e.kinks.push({id:b(),name:n,ratings:e.subcategories.reduce((function(t,e){return Object(c["a"])(Object(c["a"])({},t),{},Object(r["a"])({},e,a.ratings[0].name))}),{})});case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"removeKink",value:function(t,e){t.kinks=t.kinks.filter((function(t){return t.id!==e.id}))}},{key:"updateRatings",value:function(t){this.ratings=t.map((function(t){return Object(c["a"])({},t)}));var e,n=Object(u["a"])(this.categories);try{for(n.s();!(e=n.n()).done;){var a,o=e.value,i=Object(u["a"])(o.kinks);try{var s=function(){var e=a.value;e.ratings=o.subcategories.reduce((function(n,a){var o=t.some((function(t){return t.name===e.ratings[a]}))?e.ratings[a]:t[0].name;return Object(c["a"])(Object(c["a"])({},n),{},Object(r["a"])({},a,o))}),{})};for(i.s();!(a=i.n()).done;)s()}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}}},{key:"toggleOptions",value:function(t){this.showOptions=t,document.body.style.overflow=t?"hidden":"auto"}},{key:"tryLoadImgurData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.getImgurHash(),e){t.next=3;break}return t.abrupt("return",!1);case 3:return t.prev=3,this.importing=!0,t.next=7,F(e);case 7:return n=t.sent,a=n.categories,o=n.ratings,i=n.username,this.username=i,this.categories=a,this.ratings=o,this.importing=!1,t.abrupt("return",!0);case 18:return t.prev=18,t.t0=t["catch"](3),M(Wt,{message:"Something went wrong parsing loading kinklist data"}),console.error("Something went wrong downloading/parsing kinklist"),console.error(t.t0),this.importing=!1,t.abrupt("return",!1);case 25:case"end":return t.stop()}}),t,this,[[3,18]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getImgurHash",value:function(){if(!location.hash)return!1;if(location.hash.length<=1)return!1;if(!location.hash.match(/^#[a-zA-Z0-9]{3,10}$/))return!1;var t=location.hash.substr(1);return t}},{key:"loadDefaults",value:function(){this.username="",this.ratings=v(),this.categories=y(this.ratings[0].name)}}]),n}(f["d"]);_e=Object(m["a"])([Object(f["a"])({components:{Category:$t,ExportButton:oe,Importing:de,Legend:we}})],_e);var Se=_e,Re=Se,De=(n("5c0b"),n("4edf"),Object(X["a"])(Re,o,i,!1,null,"4570e5ca",null)),$e=De.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t($e)}}).$mount("#app")},ce1b:function(t,e,n){"use strict";n("fab6")},d8fc:function(t,e,n){"use strict";n("f8d4")},daad:function(t,e,n){},db88:function(t,e,n){"use strict";n("e2a5")},e2a5:function(t,e,n){},e8dd:function(t,e,n){},f8d4:function(t,e,n){},fab6:function(t,e,n){}});
//# sourceMappingURL=app.e8d9ea52.js.map